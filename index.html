<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chapter 18 – For Nazia</title>
<link rel="stylesheet" href="style.css">
<style>
  body, html { margin:0; padding:0; overflow:hidden; font-family: 'Cursive', sans-serif; background: #000; }
  .flipbook { width: 100vw; height: 100vh; position: relative; }
  .page { width: 100%; height: 100%; position: absolute; top:0; left:100%; display: flex; justify-content: center; align-items: center; flex-direction: column; transition: left 0.6s ease; }
  .active { left:0 !important; }
  .hidden { left:100%; }
  img { max-width: 70%; max-height: 70%; border-radius: 10px; }
  .lyrics { font-size: 2rem; text-align: center; color: #fff; line-height: 2.5rem; }
  .story { font-size: 1.8rem; text-align: center; color: #fff; max-width: 80%; line-height: 2.2rem; }
  .signature { position: absolute; bottom: 40px; font-size: 1.5rem; color: #ffd700; font-style: italic; }
  .fire-spark { position: absolute; width: 6px; height: 6px; background: gold; border-radius: 50%; pointer-events: none; opacity:0; }
  .birthday-text { font-size: 3rem; color: #fff; text-align:center; white-space: nowrap; }
</style>
</head>
<body>
<div class="flipbook">

  <!-- Page 1: Sketch -->
  <div class="page active" id="page1">
    <img src="sketch.jpg" alt="Nazia Sketch">
  </div>

  <!-- Page 2: Sketch Extra / Illustration -->
  <div class="page" id="page2">
    <img src="sketch_extra.jpg" alt="Extra Sketch Visual">
  </div>

  <!-- Page 3: Handwritten Lyrics + Voice -->
  <div class="page" id="page3">
    <img src="lyrics.png" alt="Lyrics Handwritten">
    <audio id="voice" src="voice.mp3"></audio>
  </div>

  <!-- Page 4: Birthday Wish Page -->
  <div class="page" id="page4">
    <div class="birthday-text">Happy Birthday, Nazia!</div>
  </div>

  <!-- Page 5: Story Page -->
  <div class="page" id="page5">
    <div class="story">Never beg for friendship or love. If someone truly values you, you won’t have to chase them or remind them to treat you right. Effort shouldn’t be one-sided. Giving everything while they give nothing isn’t connection anymore—it’s self-damage. Walk away from people who make you feel like an option. The right ones will match your effort without being asked...</div>
    <div class="signature">my silently distant friend</div>
  </div>

  <!-- Page 6: Final Closure Page -->
  <div class="page" id="page6">
    <div id="birthdayFinal" class="birthday-text"></div>
  </div>

</div>

<script src="script.js"></script>
<script>
let currentPage = 1;
const totalPages = 6;
const flipbook = document.querySelector('.flipbook');
const pages = document.querySelectorAll('.page');

function showPage(n) {
  pages.forEach((p,i)=>{ p.classList.remove('active'); p.classList.add('hidden'); });
  pages[n-1].classList.add('active');
}

// Swipe or key navigation
flipbook.addEventListener('click', ()=>{
  currentPage++;
  if(currentPage > totalPages) currentPage = 1;
  showPage(currentPage);
  if(currentPage===3){ document.getElementById('voice').play(); }
  if(currentPage===6){ startMagicAnimation(); }
});

function startMagicAnimation(){
  const birthdayText = document.getElementById('birthdayFinal');
  birthdayText.textContent = '';
  // Fire sparks effect
  for(let i=0;i<100;i++){
    const spark = document.createElement('div');
    spark.classList.add('fire-spark');
    spark.style.top = Math.random()*80 + '%';
    spark.style.left = Math.random()*80 + '%';
    document.getElementById('page6').appendChild(spark);
    setTimeout(()=>{ spark.style.opacity = 1; spark.style.transform = 'scale(2)'; }, 200+Math.random()*800);
    setTimeout(()=>{ spark.remove(); }, 3000);
  }
  // Word by word typing
  const message = "Happiest 17th Birthday Nazia";
  let idx=0;
  let words = message.split(' ');
  function typeWord(){
    if(idx<words.length){
      birthdayText.textContent += (idx===0?'':' ') + words[idx];
      idx++;
      setTimeout(typeWord,500);
    }
  }
  setTimeout(typeWord,2500); // 2.5 sec delay before typing
}
</script>
</body>
</html>
